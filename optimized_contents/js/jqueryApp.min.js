jQuery(document).ready(function(){function dropnavOpen(event){event.preventDefault();$('.js-dropnav').css('display','block');$('.js-closeBtn-link').css('display','block');}function dropnavClose(event){event.preventDefault();$('.js-dropnav').css('display','none');$('.js-closeBtn-link').css('display','none');}$('.js-openBtn-link').on('click',dropnavOpen);$('.js-mobnav-item-link').on('click',dropnavOpen);$('.js-closeBtn-link').on('click',dropnavClose);$(document).on('click',function(event){var elTrgMatch=$(event.target).is('.js-dropnav, .js-openBtn-link, .js-mobnav-item-link');var elTrgMatch1=$('.js-dropnav').has(event.target);if(!(elTrgMatch)&&!(elTrgMatch1.length>0)){event.preventDefault();dropnavClose(event);}});$('.js-panels-nav-item-link').on('click',function(event){event.preventDefault();$('.js-panel').removeClass('is-active');$('.js-panels-nav-item').removeClass('is-active');var thisElement=$(this).closest('.js-panels-nav-item');var thisArrayIndex=$('.js-panels-nav-item').index(thisElement);thisElement.addClass('is-active');$('.js-panel').eq(thisArrayIndex).addClass('is-active');});$('.js-sales-nav-item:first-child').on('mouseover',function(event){event.preventDefault();$('.js-sales-panel').css('border-top-left-radius','0');});$('.js-sales-nav-item:first-child').on('mouseleave',function(event){event.preventDefault();$('.js-sales-panel').css('border-top-left-radius','5px');});$('.js-sales-openBtn').on('click',function(event){event.preventDefault();$('.js-sales-mobnav').css('display','block');});function salesIsActive(event){event.preventDefault();$('.js-sales-nav-item').removeClass('is-active');$('.js-sales-panel').removeClass('is-active');var salesNavIndex=$('.js-sales-nav-item').index(this);var salesMobileNavIndex=$('.js-sales-mobnav-item').index(this);var thisArrayIndex;if(salesNavIndex>=0){thisArrayIndex=salesNavIndex;}else if(salesMobileNavIndex>=0){thisArrayIndex=salesMobileNavIndex;$('.js-sales-mobnav').css('display','none');}$('.js-sales-nav-item').eq(thisArrayIndex).addClass('is-active');$('.js-sales-panel').eq(thisArrayIndex).addClass('is-active');}$('.js-sales-nav-item').on('click',salesIsActive);$('.js-sales-mobnav-item').on('click',salesIsActive);touchslider={output:function(msg){if(console){console.info(msg);}},createSlidePanel:function(gridid,cellWidth,padding){var x=padding;$(gridid).each(function(){$(this).css({'position':'relative','left':'0px'});$(this).parent().css({margin:'0 auto',overflow:'hidden'});$(this).children('.js-offer-item').each(function(){$(this).css({width:cellWidth+'px',height:'90%',position:'absolute',left:x+'px',top:padding+'px'});x+=cellWidth+padding;});touchslider.width=x;touchslider.colWidth=cellWidth+padding;try{document.createEvent('TouchEvent');touchslider.makeTouchable(gridid);}catch(e){}finally{touchslider.touchAreaSize(gridid);$(window).resize(function(){touchslider.touchAreaSize(gridid)});$('.js-next').on('click',function(){touchslider.nextClick(gridid)});$('.js-prev').on('click',function(){touchslider.prevClick(gridid)});}});},nextClick:function(gridid){var left=touchslider.getLeft($(gridid));var maxDelta=touchslider.width-parseInt($(gridid).parent().width(),10);left-=touchslider.colWidth;if(Math.abs(left)<=Math.abs(maxDelta)){touchslider.doSlide($(gridid),left,'0s');}},prevClick:function(gridid){var left=touchslider.getLeft($(gridid));left+=touchslider.colWidth;if(left<=0){touchslider.doSlide($(gridid),left,'0s');}},touchAreaSize:function(gridid){$(gridid).parent().each(function(){var touchAreaWidth100=parseInt($(this).css({width:'100%'}).css('width'),10);var elNumber=parseInt(touchAreaWidth100/touchslider.colWidth,10);var touchAreaWidth=elNumber*touchslider.colWidth;$(this).css({width:touchAreaWidth});});},makeTouchable:function(gridid){$(gridid).each(function(){this.ontouchstart=function(e){touchslider.touchStart($(this),e);return true;};this.ontouchend=function(e){e.preventDefault();e.stopPropagation();if(touchslider.sliding){touchslider.sliding=false;touchslider.touchEnd($(this),e);return false;}else{return true;}};this.ontouchmove=function(e){touchslider.touchMove($(this),e);e.preventDefault();e.stopPropagation();return false;};});},getLeft:function(elem){return parseInt(elem.css('left'),10);},touchStart:function(elem,e){elem.css({'-webkit-transition-duration':'0','transition-duration':'0'});touchslider.startX=e.targetTouches[0].clientX;touchslider.startLeft=touchslider.getLeft(elem);touchslider.touchStartTime=new Date().getTime();},touchEnd:function(elem,e){if(touchslider.getLeft(elem)>0){touchslider.doSlide(elem,0,'1s');elem.parent().removeClass('sliding');touchslider.startX=null;}else if(Math.abs(touchslider.getLeft(elem))>(touchslider.width-elem.parent().width())){touchslider.doSlide(elem,'-'+(touchslider.width-elem.parent().width()),'1s');elem.parent().removeClass('sliding');touchslider.startX=null;}else{touchslider.slideMomentum(elem,e);}},slideMomentum:function(elem,e){var slideAdjust=(new Date().getTime()-touchslider.touchStartTime)*35;var left=touchslider.getLeft(elem);var changeX=12000*(Math.abs(touchslider.startLeft)-Math.abs(left));slideAdjust=Math.round(changeX/slideAdjust);var newLeft=left+slideAdjust;var t=newLeft%touchslider.colWidth;if((Math.abs(t))>((touchslider.colWidth/2))){newLeft-=(touchslider.colWidth-Math.abs(t));}else{newLeft-=t;}if(touchslider.slidingLeft){var maxLeft=parseInt('-'+(touchslider.width-elem.parent().width()),10);touchslider.doSlide(elem,Math.max(maxLeft,newLeft),'0.5s');}else{touchslider.doSlide(elem,Math.min(0,newLeft),'0.5s');}elem.parent().removeClass('sliding');touchslider.startX=null;},doSlide:function(elem,x,duration){elem.css({left:x+'px','-webkit-transition-property':'left','-webkit-transition-duration':duration,'transition-property':'left','transition-duration':duration});if(x===0){$('.js-prev').removeClass('is-active');$('.js-next').addClass('is-active');}else if(Math.abs(x)===touchslider.width-parseInt(elem.parent().width(),10)){$('.js-next').removeClass('is-active');$('.js-prev').addClass('is-active');}else{$('.js-prev').addClass('is-active');$('.js-next').addClass('is-active');}},touchMove:function(elem,e){if(!touchslider.sliding){elem.parent().addClass('sliding');}touchslider.sliding=true;var deltaX=e.targetTouches[0].clientX-touchslider.startX;var left=deltaX+touchslider.startLeft;elem.css({left:left+'px'});if(touchslider.startX>e.targetTouches[0].clientX){touchslider.slidingLeft=true;}else{touchslider.slidingLeft=false;}}}
touchslider.createSlidePanel('.js-offer',215,0);});